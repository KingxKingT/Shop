# ğŸ¥– Semsem Bakery - Complete Application Flow

**Visual guide to understand how everything works together**

---

## ğŸ¯ User Journeys

### 1. **First-Time Customer Journey**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. DISCOVER                                                 â”‚
â”‚    Customer opens app â†’ Sees beautiful bread selection     â”‚
â”‚    â†“                                                        â”‚
â”‚ 2. BROWSE                                                   â”‚
â”‚    Views breads in grid/list â†’ Sees live status & prices   â”‚
â”‚    â†“                                                        â”‚
â”‚ 3. SELECT                                                   â”‚
â”‚    Adds items to cart â†’ Sees cart badge update             â”‚
â”‚    â†“                                                        â”‚
â”‚ 4. CHECKOUT                                                 â”‚
â”‚    Opens cart â†’ Enters phone & name â†’ Places order         â”‚
â”‚    â†“                                                        â”‚
â”‚ 5. TRACK                                                    â”‚
â”‚    Goes to Account tab â†’ Sees order status with countdown  â”‚
â”‚    â†“                                                        â”‚
â”‚ 6. PICKUP                                                   â”‚
â”‚    Gets notification â†’ Picks up order â†’ Earns rewards      â”‚
â”‚    â†“                                                        â”‚
â”‚ 7. ENGAGE                                                   â”‚
â”‚    Joins community â†’ Shares review â†’ Becomes loyal         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. **Returning Customer Journey**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. QUICK ACCESS                                             â”‚
â”‚    Opens PWA from home screen â†’ Instant load               â”‚
â”‚    â†“                                                        â”‚
â”‚ 2. CHECK STATUS                                             â”‚
â”‚    Sees favorite bread is ready â†’ Adds to cart             â”‚
â”‚    â†“                                                        â”‚
â”‚ 3. USE REWARDS                                              â”‚
â”‚    Opens cart â†’ Applies wallet balance â†’ Saves money       â”‚
â”‚    â†“                                                        â”‚
â”‚ 4. FAST CHECKOUT                                            â”‚
â”‚    Info pre-filled â†’ One-tap order â†’ Confirmation          â”‚
â”‚    â†“                                                        â”‚
â”‚ 5. COMMUNITY                                                â”‚
â”‚    Shares photo â†’ Gets likes â†’ Earns VIP status            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3. **Staff Member Journey**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. MORNING SETUP                                            â”‚
â”‚    Signs in â†’ Opens bakery â†’ Sets announcement             â”‚
â”‚    â†“                                                        â”‚
â”‚ 2. INVENTORY UPDATE                                         â”‚
â”‚    Adds new breads â†’ Updates quantities â†’ Sets timers      â”‚
â”‚    â†“                                                        â”‚
â”‚ 3. ORDER PROCESSING                                         â”‚
â”‚    Receives orders â†’ Confirms â†’ Updates to preparing       â”‚
â”‚    â†“                                                        â”‚
â”‚ 4. READY NOTIFICATION                                       â”‚
â”‚    Marks ready â†’ System notifies customer â†’ Countdown      â”‚
â”‚    â†“                                                        â”‚
â”‚ 5. CUSTOMER SERVICE                                         â”‚
â”‚    Approves verifications â†’ Replies to posts â†’ Manages     â”‚
â”‚    â†“                                                        â”‚
â”‚ 6. END OF DAY                                               â”‚
â”‚    Reviews analytics â†’ Plans tomorrow â†’ Closes bakery      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ Data Flow

### Order Creation Flow

```
Customer Side                Server Side                Database
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                â”€â”€â”€â”€â”€â”€â”€â”€

[Add to Cart]
     â”‚
     â”œâ”€> Store in state
     â”‚
[Checkout]
     â”‚
     â”œâ”€> Validate form
     â”‚        â”‚
     â”‚        â”œâ”€> Check phone (8+ digits)
     â”‚        â”œâ”€> Check name (required)
     â”‚        â””â”€> Check cart (not empty)
     â”‚
     â”œâ”€> Call createCustomerOrderFn()
     â”‚                â”‚
     â”‚                â”œâ”€> Authenticate
     â”‚                â”œâ”€> Register customer â”€â”€> [customers table]
     â”‚                â”œâ”€> Create order â”€â”€â”€â”€â”€â”€> [orders table]
     â”‚                â”œâ”€> Create order items â”€> [order_items table]
     â”‚                â”œâ”€> Update bread stock â”€> [breads table]
     â”‚                â”œâ”€> Record transaction â”€> [wallet_transactions]
     â”‚                â””â”€> Return order ID
     â”‚
     â”œâ”€> Show success
     â”œâ”€> Clear cart
     â”œâ”€> Invalidate queries
     â””â”€> Navigate to orders

Staff Side
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

[Dashboard]
     â”‚
     â”œâ”€> Query orders (real-time)
     â”‚        â”‚
     â”‚        â””â”€> Filter by status
     â”‚
[Update Status]
     â”‚
     â”œâ”€> Call updateOrderStatusFn()
     â”‚        â”‚
     â”‚        â”œâ”€> Validate permission
     â”‚        â”œâ”€> Update order â”€â”€â”€â”€â”€â”€> [orders table]
     â”‚        â”œâ”€> Set ready timestamp
     â”‚        â”œâ”€> Calculate deadline
     â”‚        â””â”€> Notify customer
     â”‚
     â””â”€> Refresh order list
```

### Rewards System Flow

```
Order Completed
     â”‚
     â”œâ”€> Calculate reward (5% of total)
     â”‚
     â”œâ”€> Create transaction â”€â”€â”€â”€â”€â”€> [wallet_transactions]
     â”‚        â”‚
     â”‚        â”œâ”€> type: 'earn'
     â”‚        â”œâ”€> amount: calculated
     â”‚        â”œâ”€> expiresAt: +90 days
     â”‚        â””â”€> isExpired: false
     â”‚
     â”œâ”€> Update wallet balance â”€â”€â”€> [wallets table]
     â”‚        â”‚
     â”‚        â”œâ”€> balance += amount
     â”‚        â””â”€> totalEarned += amount
     â”‚
     â””â”€> Show notification to customer

Customer Uses Rewards
     â”‚
     â”œâ”€> Select amount in cart
     â”‚
     â”œâ”€> Validate balance
     â”‚        â”‚
     â”‚        â””â”€> Check if sufficient
     â”‚
     â”œâ”€> Create order with rewardUsed
     â”‚        â”‚
     â”‚        â”œâ”€> Create transaction â”€â”€> [wallet_transactions]
     â”‚        â”‚        â”‚
     â”‚        â”‚        â”œâ”€> type: 'spend'
     â”‚        â”‚        â””â”€> amount: -used
     â”‚        â”‚
     â”‚        â””â”€> Update wallet â”€â”€â”€â”€â”€â”€> [wallets table]
     â”‚                 â”‚
     â”‚                 â”œâ”€> balance -= used
     â”‚                 â””â”€> totalSpent += used
     â”‚
     â””â”€> Complete order with discount

Expiration Check (Daily)
     â”‚
     â”œâ”€> Query expired transactions
     â”‚        â”‚
     â”‚        â””â”€> WHERE expiresAt < now AND !isExpired
     â”‚
     â”œâ”€> Mark as expired â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€> [wallet_transactions]
     â”‚        â”‚
     â”‚        â””â”€> isExpired: true
     â”‚
     â””â”€> Update wallet balance â”€â”€â”€â”€> [wallets table]
              â”‚
              â””â”€> balance -= expired amount
```

### Phone Verification Flow

```
Customer Side                Server Side                Database
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                â”€â”€â”€â”€â”€â”€â”€â”€

[Request Verification]
     â”‚
     â”œâ”€> Enter phone & name
     â”‚
     â”œâ”€> Call requestPhoneVerificationFn()
     â”‚                â”‚
     â”‚                â”œâ”€> Validate input
     â”‚                â”œâ”€> Check for duplicates
     â”‚                â”œâ”€> Create verification â”€â”€> [phone_verifications]
     â”‚                â”‚        â”‚
     â”‚                â”‚        â”œâ”€> status: 'pending'
     â”‚                â”‚        â”œâ”€> customerPhone
     â”‚                â”‚        â””â”€> customerName
     â”‚                â”‚
     â”‚                â””â”€> Return success
     â”‚
     â””â”€> Show confirmation

Staff Side
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

[Dashboard â†’ Verifications Tab]
     â”‚
     â”œâ”€> Query pending verifications
     â”‚        â”‚
     â”‚        â””â”€> WHERE status = 'pending'
     â”‚
[Approve/Reject]
     â”‚
     â”œâ”€> Call approvePhoneVerificationFn()
     â”‚        â”‚
     â”‚        â”œâ”€> Validate permission
     â”‚        â”œâ”€> Update verification â”€â”€> [phone_verifications]
     â”‚        â”‚        â”‚
     â”‚        â”‚        â”œâ”€> status: 'verified'/'rejected'
     â”‚        â”‚        â”œâ”€> verifiedBy: staff ID
     â”‚        â”‚        â”œâ”€> verifiedAt: timestamp
     â”‚        â”‚        â””â”€> rejectedReason: if rejected
     â”‚        â”‚
     â”‚        â””â”€> Return success
     â”‚
     â””â”€> Refresh list

Customer Side (Real-time)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

[Account Tab]
     â”‚
     â”œâ”€> Query verification status (5s staleTime)
     â”‚        â”‚
     â”‚        â””â”€> Show badge if verified
     â”‚
     â””â”€> Update UI based on status
```

---

## ğŸ¨ Component Hierarchy

### Customer App

```
App
â”œâ”€â”€ LanguageProvider
â”‚   â””â”€â”€ QueryClientProvider
â”‚       â””â”€â”€ Router
â”‚           â”œâ”€â”€ _public (Layout)
â”‚           â”‚   â””â”€â”€ index (Home)
â”‚           â”‚       â”œâ”€â”€ BakeryHeader
â”‚           â”‚       â”‚   â”œâ”€â”€ Logo
â”‚           â”‚       â”‚   â”œâ”€â”€ StatusBadge
â”‚           â”‚       â”‚   â””â”€â”€ Announcement
â”‚           â”‚       â”œâ”€â”€ BottomTabBar
â”‚           â”‚       â”‚   â”œâ”€â”€ HomeTab
â”‚           â”‚       â”‚   â”œâ”€â”€ WalletTab
â”‚           â”‚       â”‚   â”œâ”€â”€ CommunityTab
â”‚           â”‚       â”‚   â””â”€â”€ AccountTab
â”‚           â”‚       â”œâ”€â”€ BreadGrid
â”‚           â”‚       â”‚   â””â”€â”€ BreadCard[]
â”‚           â”‚       â”‚       â”œâ”€â”€ Image
â”‚           â”‚       â”‚       â”œâ”€â”€ StatusBadge
â”‚           â”‚       â”‚       â”œâ”€â”€ CountdownTimer
â”‚           â”‚       â”‚       â”œâ”€â”€ PriceDisplay
â”‚           â”‚       â”‚       â”œâ”€â”€ ActionButtons
â”‚           â”‚       â”‚       â””â”€â”€ ReminderButton
â”‚           â”‚       â”œâ”€â”€ FloatingCartButton
â”‚           â”‚       â”‚   â””â”€â”€ CartDrawer
â”‚           â”‚       â”‚       â”œâ”€â”€ CustomerInfoForm
â”‚           â”‚       â”‚       â”œâ”€â”€ RewardsSlider
â”‚           â”‚       â”‚       â”œâ”€â”€ CartItemList
â”‚           â”‚       â”‚       â””â”€â”€ CheckoutButton
â”‚           â”‚       â”œâ”€â”€ WalletTab
â”‚           â”‚       â”‚   â”œâ”€â”€ BalanceCard
â”‚           â”‚       â”‚   â”œâ”€â”€ TransferForm
â”‚           â”‚       â”‚   â”œâ”€â”€ TransactionHistory
â”‚           â”‚       â”‚   â””â”€â”€ PendingTransfers
â”‚           â”‚       â”œâ”€â”€ CommunityTab
â”‚           â”‚       â”‚   â”œâ”€â”€ PostList
â”‚           â”‚       â”‚   â”œâ”€â”€ PostCard
â”‚           â”‚       â”‚   â”œâ”€â”€ CommentSection
â”‚           â”‚       â”‚   â””â”€â”€ CreatePostButton
â”‚           â”‚       â””â”€â”€ AccountTab
â”‚           â”‚           â”œâ”€â”€ ProfileHeader
â”‚           â”‚           â”œâ”€â”€ OrdersList
â”‚           â”‚           â”œâ”€â”€ SettingsGrid
â”‚           â”‚           â”œâ”€â”€ LanguageDialog
â”‚           â”‚           â”œâ”€â”€ VerificationButton
â”‚           â”‚           â””â”€â”€ SupportModal
â”‚           â””â”€â”€ _protected (Layout)
â”‚               â””â”€â”€ dashboard
â”‚                   â”œâ”€â”€ Header
â”‚                   â”œâ”€â”€ TabsList
â”‚                   â”œâ”€â”€ InventoryTab
â”‚                   â”‚   â”œâ”€â”€ StatsCards
â”‚                   â”‚   â”œâ”€â”€ BreadTable
â”‚                   â”‚   â””â”€â”€ BreadForm
â”‚                   â”œâ”€â”€ OrdersTab
â”‚                   â”‚   â”œâ”€â”€ OrdersList
â”‚                   â”‚   â”œâ”€â”€ OrderCard
â”‚                   â”‚   â””â”€â”€ StatusButtons
â”‚                   â”œâ”€â”€ CustomersTab
â”‚                   â”‚   â”œâ”€â”€ CustomerList
â”‚                   â”‚   â”œâ”€â”€ CustomerCard
â”‚                   â”‚   â””â”€â”€ LoyaltyBadge
â”‚                   â”œâ”€â”€ ReservationsTab
â”‚                   â”‚   â”œâ”€â”€ ReservationList
â”‚                   â”‚   â””â”€â”€ ReservationForm
â”‚                   â”œâ”€â”€ VerificationsTab
â”‚                   â”‚   â”œâ”€â”€ PendingList
â”‚                   â”‚   â””â”€â”€ ApproveRejectButtons
â”‚                   â”œâ”€â”€ CommunityTab
â”‚                   â”‚   â”œâ”€â”€ PostModeration
â”‚                   â”‚   â””â”€â”€ StaffReply
â”‚                   â”œâ”€â”€ SupportTab
â”‚                   â”‚   â”œâ”€â”€ TicketList
â”‚                   â”‚   â””â”€â”€ ReplyForm
â”‚                   â””â”€â”€ SettingsTab
â”‚                       â”œâ”€â”€ BakeryControls
â”‚                       â”œâ”€â”€ AppSettings
â”‚                       â”œâ”€â”€ RewardsConfig
â”‚                       â””â”€â”€ PasswordChange
```

---

## ğŸ” Permission Model

### Row-Level Security

```
Table: breads
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
CREATE: Staff only (createdBy = currentUser.$id)
READ:   Everyone (public)
UPDATE: Owner only (createdBy = currentUser.$id)
DELETE: Owner only (createdBy = currentUser.$id)

Table: orders
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
CREATE: Anyone (customer or staff)
READ:   Owner or staff (createdBy = currentUser.$id)
UPDATE: Staff only (createdBy = staff.$id)
DELETE: Staff only (createdBy = staff.$id)

Table: customers
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
CREATE: Anyone (self-registration)
READ:   Owner or staff (createdBy = currentUser.$id)
UPDATE: Owner or staff (createdBy = currentUser.$id)
DELETE: Staff only

Table: wallets
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
CREATE: System (on customer registration)
READ:   Owner only (createdBy = currentUser.$id)
UPDATE: System only (via server functions)
DELETE: Never

Table: phone_verifications
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
CREATE: Anyone (customer request)
READ:   Owner or staff
UPDATE: Staff only (approval/rejection)
DELETE: Staff only

Table: community_posts
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
CREATE: Anyone (with moderation)
READ:   Everyone (if approved)
UPDATE: Owner or staff
DELETE: Owner or staff
```

---

## ğŸ“Š State Management

### Client State (React Query)

```
Query Keys:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
['breads']                          â†’ All breads
['bakeryStatus']                    â†’ Open/closed status
['customer', phone]                 â†’ Customer by phone
['customerOrders', phone]           â†’ Orders for customer
['wallet', phone]                   â†’ Wallet balance
['walletHistory', phone]            â†’ Transaction history
['verificationStatus', phone]       â†’ Verification status
['communityPosts']                  â†’ All posts
['orders']                          â†’ All orders (staff)
['customers']                       â†’ All customers (staff)
['reservations']                    â†’ All reservations (staff)
['pendingVerifications']            â†’ Pending verifications (staff)

Mutations:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
createBread                         â†’ Add new bread
updateBread                         â†’ Edit bread
deleteBread                         â†’ Remove bread
createOrder                         â†’ Place order
updateOrderStatus                   â†’ Change order status
registerCustomer                    â†’ Create/update customer
transferRewards                     â†’ Send rewards
claimTransfer                       â†’ Receive rewards
createPost                          â†’ New community post
requestVerification                 â†’ Request phone verification
approveVerification                 â†’ Approve verification
rejectVerification                  â†’ Reject verification

Invalidation Strategy:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
After mutation â†’ Invalidate related queries
After order â†’ Invalidate ['orders'], ['customerOrders'], ['wallet']
After bread update â†’ Invalidate ['breads']
After verification â†’ Invalidate ['verificationStatus'], ['pendingVerifications']
```

### Local State (localStorage)

```
Keys:
â”€â”€â”€â”€â”€
CUSTOMER_PHONE                      â†’ User's phone number
CUSTOMER_NAME                       â†’ User's name
CUSTOMER_ADDRESS                    â†’ User's address
USER_LANGUAGE                       â†’ Selected language (en/ar/fr)
LANGUAGE_SELECTED                   â†’ Has user chosen language
CART_ITEMS                          â†’ Shopping cart contents
VIEW_MODE                           â†’ Grid or list view
COACH_MARKS_SHOWN                   â†’ Tutorial completion

Sync Strategy:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Write â†’ localStorage.setItem()
Read â†’ localStorage.getItem()
Clear â†’ localStorage.removeItem()
Event â†’ window.dispatchEvent('storage')
Listen â†’ window.addEventListener('storage')
```

---

## ğŸ¯ Real-Time Features

### Live Updates

```
Feature: Bread Status
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Polling: Every 10 seconds
Query: ['breads'] with refetchInterval
Update: Automatic UI refresh
Countdown: Client-side timer with server sync

Feature: Order Tracking
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Polling: Every 10 seconds
Query: ['customerOrders', phone] with refetchInterval
Countdown: Pickup deadline timer
Notification: When status changes

Feature: Wallet Balance
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Polling: On drawer open
Query: ['wallet', phone]
Update: After every transaction
Expiration: Daily check for expired rewards

Feature: Verification Status
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Polling: Every 5 seconds
Query: ['verificationStatus', phone]
Update: When staff approves/rejects
Badge: Shows verified status
```

---

## ğŸš€ Deployment Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         VERCEL EDGE                         â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                    CDN Layer                          â”‚ â”‚
â”‚  â”‚  â€¢ Static assets (images, fonts, icons)              â”‚ â”‚
â”‚  â”‚  â€¢ Cached responses                                   â”‚ â”‚
â”‚  â”‚  â€¢ Edge functions                                     â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                            â”‚                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                 TanStack Start App                    â”‚ â”‚
â”‚  â”‚  â€¢ SSR rendering                                      â”‚ â”‚
â”‚  â”‚  â€¢ Server functions                                   â”‚ â”‚
â”‚  â”‚  â€¢ API routes                                         â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      APPWRITE CLOUD                         â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   Database    â”‚  â”‚    Storage    â”‚  â”‚     Auth      â”‚  â”‚
â”‚  â”‚  â€¢ TablesDB   â”‚  â”‚  â€¢ Files      â”‚  â”‚  â€¢ Sessions   â”‚  â”‚
â”‚  â”‚  â€¢ Queries    â”‚  â”‚  â€¢ Images     â”‚  â”‚  â€¢ Users      â”‚  â”‚
â”‚  â”‚  â€¢ Indexes    â”‚  â”‚  â€¢ Uploads    â”‚  â”‚  â€¢ Tokens     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      CLIENT DEVICES                         â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Mobile  â”‚  â”‚  Tablet  â”‚  â”‚ Desktop  â”‚  â”‚   PWA    â”‚  â”‚
â”‚  â”‚  Safari  â”‚  â”‚  Chrome  â”‚  â”‚ Firefox  â”‚  â”‚  Installedâ”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ‰ Success!

Your bakery app is now fully documented and ready for production deployment!

**Key Takeaways:**
- âœ… Complete user journeys mapped
- âœ… Data flows documented
- âœ… Component hierarchy clear
- âœ… Permission model defined
- âœ… State management explained
- âœ… Real-time features outlined
- âœ… Deployment architecture shown

**Deploy with confidence! ğŸš€ğŸ¥–**

---

**Last Updated:** February 8, 2026  
**Version:** 1.0.0  
**Status:** ğŸŸ¢ Production Ready
